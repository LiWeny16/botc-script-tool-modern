/* 打印样式 - 只打印剧本内容，全屏无白边 
 * 使用说明：
 * 1. 按 Ctrl+P 打开打印对话框
 * 2. 纸张大小：A4
 * 3. 缩放：60%
 * 4. 每张纸打印的页数：1
 * 5. 边距：默认
 * 6. 选项：勾选"背景图形"
 */

@media print {

  /* 重置所有页面边距 - 无白边 */
  @page {
    margin: 0 !important;
    padding: 0 !important;
    size: auto !important;
  }

  /* 重置body和html的样式 */
  html,
  body {
    margin: 0 !important;
    padding: 0 !important;
    overflow: visible !important;
    width: 100% !important;
    height: 100% !important;
  }

  /* 隐藏所有内容 */
  body * {
    visibility: hidden !important;
  }

  /* 只显示剧本预览区域及其子元素 */
  #script-preview,
  #script-preview *,
  #script-preview-2,
  #script-preview-2 * {
    visibility: visible !important;
  }

  /* 让剧本预览区域作为唯一可见内容 */
  #script-preview {
    position: absolute !important;
    left: 0 !important;
    top: 0 !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    display: flex !important;
    justify-content: center !important;
    align-items: flex-start !important;
  }

  /* 确保内部容器占满宽度并保持原始布局 - 针对60%缩放优化 */


  /* 确保背景图片和颜色正确显示 */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    color-adjust: exact !important;
  }

  /* 避免内容被分页打断 */
  #script-preview {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  /* 确保图片清晰显示 */
  /* img {
    image-rendering: -webkit-optimize-contrast !important;
  } */

  /* 移除MUI Container的限制 */
  /* .MuiContainer-root {
    max-width: none !important;
    padding: 0 !important;
    margin: 0 !important;
  } */

  /* 移除所有不必要的阴影效果 */
  .MuiPaper-root {
    box-shadow: none !important;
  }

  /* 屏蔽角色卡悬浮效果 */
  .MuiPaper-root:hover {
    background-color: transparent !important;
    box-shadow: none !important;
  }

  /* 隐藏所有工具组件 */
  .MuiFab-root,
  .floating-add-button,
  [role="dialog"],
  .MuiDialog-root,
  .character-edit-dialog,
  .character-library-dialog,
  .character-library-card,
  .share-dialog {
    display: none !important;
    visibility: hidden !important;
  }

  /* 隐藏输入面板 */
  .input-panel,
  .MuiTextField-root,
  .MuiButton-root:not(#script-preview .MuiButton-root) {
    display: none !important;
    visibility: hidden !important;
  }
}